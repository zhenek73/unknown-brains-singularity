"use strict";const Web3Modal=window.Web3Modal.default;let web3Modal,provider,selectedAccount,web3ModalProv;function connectWithMetaMask(){web3Modal=new Web3Modal({cacheProvider:!1,providerOptions:{},disableInjectedProvider:!1})}function connectWithCoinBase(){let e={"custom-coinbase":{display:{name:"Coinbase",description:"Scan with WalletLink to connect"},options:{appName:"app",chainId:1,rpc:{1:"https://cloudflare-eth.com/",137:"https://polygon-rpc.com/"}},package:WalletLink,async connector(e,o){let{appName:a,networkUrl:t,chainId:n,rpc:i}=o,r=new WalletLink({appName:a}),l=r.makeWeb3Provider(i,n);return await l.enable(),l}}};web3Modal=new Web3Modal({cacheProvider:!1,providerOptions:e,disableInjectedProvider:!0})}async function fetchAccountData(){web3ModalProv=new Web3(provider),provider.on("accountsChanged",e=>{console.log(e)}),provider.on("chainChanged",e=>{console.log(e)}),provider.on("disconnect",(e,o)=>{console.log(e,o)})}async function refreshAccountData(){try{await fetchAccountData(provider)}catch(e){console.log(e);let o=navigator.brave&&await navigator.brave.isBrave()||!1;o&&showWarningModal()}}async function onConnectLoadWeb3Modal(){try{await web3Modal.clearCachedProvider(),provider=await web3Modal.connect()}catch(e){return"TypeError: Cannot read properties of undefined (reading 'connect')"==e&&showMessage("Click after page load","msg"),console.log("error inside onConnectLoadWeb3Modal",e),{err:e}}return await refreshAccountData(),{err:null}}function showWarningModal(){let e="";e+='<button type="button" class="btn btn-primary" id="moweb3_show_warning_modal_button"  style="display:none"  data-toggle="modal" data-target="#moweb3_test_modal">',e+="		Test Configuration",e+="	</button>",e+='	<div class="modal fade" id="moweb3_show_warning_modal" style="opacity:100%;display:none;" aria-labelledby="moweb3_test_modal_label" aria-hidden="true">',e+='		<div class="modal-dialog bg-warning text-dark" style="margin: 5rem auto">',e+='			<div class="modal-content">',e+='				<div class="modal-header">',e+='					<h5 class="modal-title text-warning" id="moweb3_test_modal_label">Warning!!!</h5>',e+="				</div>",e+='				<div class="modal-body">',e+="          <p> The current version of your brave browser have some issue. To fix the issue follow the below steps:</p>",e+='       <div style="margin-left:2rem">',e+="         <ol>",e+='             <li>Click on the hamburger (three horizontal lines) icon in the upper right hand corner and choose the "Settings" menu</li>',e+='             <li>Using the menu on the left-hand side, choose the "Wallet" section of Settings</li>',e+='             <li>Change "Default cryptocurrency wallet" to "None"</li>',e+="             <li>Restart the Brave browser</li>",e+="         </ol>",e+="       <div>",e+="			  </div>",e+="		</div>",e+="	</div>",e+="</div>",document.body.innerHTML+=e,document.getElementById("moweb3_show_warning_modal").style.display="block",document.getElementById("moweb3_show_warning_modal_button").click()}