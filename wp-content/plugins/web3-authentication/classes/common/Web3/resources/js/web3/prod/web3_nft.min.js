var TokenABIType1=[{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"uint256",name:"index",type:"uint256"}],name:"tokenOfOwnerByIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"tokenURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"uri",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"}],TokenABIType2=[{inputs:[{internalType:"address",name:"_owner",type:"address"},{internalType:"uint256",name:"_id",type:"uint256"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"uint256",name:"index",type:"uint256"}],name:"tokenOfOwnerByIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"tokenURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"uri",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"}];async function getSolanaTokenDetails(e,t,n){let a=0;return await jQuery.post(ajaxurl,{action:"type_of_request",request:"getSolanaTokenDetails",fieldValue:t,fieldKey:n,walletAddress:e,mo_web3_verify_nonce:wp_nonce},function(t){let n=null,i="something went wrong: ";if(t)try{n=JSON.parse(t)}catch(r){return alert(i+=r),0}try{a=analyseSolanaDetails(n,e)}catch(o){console.log(o),alert(o.message)}}),a}function analyseSolanaDetails(e,t){let n=0;if(e?.error)throw{name:"web3 solana",message:"Error Occur!!: Probably your configurations or test wallet address is wrong"};if(e?.nft?.owner)t==e?.nft?.owner&&(n=1);else{let a=e?.nfts?.length;a=a||0;for(let i=0;i<a;i++)t==e?.nfts[i]?.owner&&(n+=1)}return n}async function checkAndShowNft(e,t,n,a){let i=0;return n.length>6&&"solana"==n.substring(0,6).toLowerCase()?i=await getSolanaTokenDetails(e,t,n):(console.log(e,t),new Web3(window.ethereum),(i=await checkBalance(TokenABIType1,e,t,n))<0&&(i=await checkBalance(TokenABIType2,e,t,n)),i<=0&&"PolygonMumbai"==n&&(i=await getPolygonMumbaiTestnetBalance(t,e,n)),i<0&&("Ethereum"==n||"Goerli"==n||"Polygon"==n)&&(i=await getBalanceThroughAPICall(t,e,n)),i)}function getWeb3ContractObject(e,t,n){let a=new Web3(window.ethereum);"Binance"==n&&(a=new Web3("https://bsc-dataseed1.ninicoin.io"));let i=new a.eth.Contract(e,t);return"Ethereum"==n?i.setProvider("https://cloudflare-eth.com/"):"PolygonMumbai"==n?i.setProvider("https://rpc-mumbai.maticvigil.com/ "):"Goerli"==n?i.setProvider("https://rpc.ankr.com/eth_goerli"):"Polygon"==n&&i.setProvider("https://polygon-rpc.com/"),i}async function checkBalance(e,t,n,a){let i;try{(i=getWeb3ContractObject(e,n,a)).defaultAccount=t}catch(r){throw alert("Error Occur!!: Probably your configurations or test wallet address is wrong"),Error("configurations or test wallet address is wrong")}let o,s;try{return o=await i.methods.balanceOf(t).call(),o=Number(o)}catch(l){console.log(l)}try{s=await i.methods.tokenOfOwnerByIndex(t,0).call()}catch(u){return console.log(u),-1}try{o=await i.methods.balanceOf(t,s).call()}catch(c){return console.log(c),-1}return Number(o)}async function getPolygonMumbaiTestnetBalance(e,t,n){let a=0;return await jQuery.post(ajaxurl,{action:"type_of_request",request:"getPolygonMumbaiTestnetBalance",blockchain:n,wallet_address:t,contractAddresses:e,mo_web3_verify_nonce:wp_nonce},function(e){a=e}),a}async function getBalanceThroughAPICall(e,t,n){let a=0;return await jQuery.post(ajaxurl,{action:"type_of_request",request:"getUserHoldNFTData",blockchain:n,walletAddress:t,contractAddresses:e,mo_web3_verify_nonce:wp_nonce},function(e){let t=null,n="something went wrong: ";if(e)try{t=JSON.parse(e)}catch(i){return alert(n+=i),0}t.total?a=Number(a=t.total):alert(n+=t?.error?.message)}),a}