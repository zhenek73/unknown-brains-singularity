"use strict";(self.webpackChunkneve=self.webpackChunkneve||[]).push([[637],{971:(e,t,l)=>{l.r(t),l.d(t,{default:()=>_});var n=l(307),o=l(941),a=l(184),s=l.n(a),i=l(697),r=l.n(i),c=l(736),u=l(609),m=l(540),d=l(15),p=l(904),v=l(140),g=l(266),b=l(434),E=l(408),h=l(374);const w=()=>(0,n.createElement)(u.Tooltip,{text:(0,c.__)("Drag to Reorder","neve")},(0,n.createElement)("button",{"aria-label":(0,c.__)("Drag to Reorder","neve"),className:"handle",onClick:e=>{e.preventDefault()}},(0,n.createElement)(u.Icon,{icon:m.Z,size:18}))),f=({item:e,onToggle:t,components:l,allowsToggle:o=!0,locked:a=!1})=>{var i;const r=(null===(i=l[e.id])||void 0===i?void 0:i.label)||l[e.id],v=(0,n.useMemo)((()=>{var t;return!(null===(t=l[e.id])||void 0===t||!t.controls)&&Object.keys(l[e.id].controls).length>0}),[]),[b,E]=(0,n.useState)(!1),[h,f]=(0,n.useState)(!1),k=()=>{if(!v)return;const t=Object.keys(l[e.id].controls).map((e=>wp.customize.control(e).active())).filter(Boolean).length>0;f(t)};return(0,n.useEffect)((()=>{if(v)return k(),wp.customize.control.bind("change",k),()=>{wp.customize.control.unbind("change",k)}}),[]),(0,n.createElement)("div",{className:s()("neve-sortable-item",{visible:e.visible,disabled:!e.visible,"no-toggle":!o})},(0,n.createElement)("div",{className:"top-bar"},a?(0,n.createElement)(u.Tooltip,{text:(0,c.__)("Ordering locked for current layout","neve")},(0,n.createElement)("button",{className:"locked",disabled:!0},(0,n.createElement)(u.Icon,{icon:m.Z,size:18}))):(0,n.createElement)(w,null),(0,n.createElement)("span",{className:"label"},r),(0,n.createElement)("div",{className:"actions"},h&&(0,n.createElement)(u.Tooltip,{text:(0,c.__)("Toggle Controls","neve")},(0,n.createElement)("button",{className:"toggle-controls",onClick:e=>{e.preventDefault(),E(!b)},"aria-label":(0,c.__)("Toggle Controls","neve")},(0,n.createElement)(u.Icon,{size:18,icon:b?d.Z:p.Z}))),(0,n.createElement)("span",{className:"separator"}),o&&(0,n.createElement)(u.Tooltip,{text:(0,c.__)("Toggle Visibility","neve")},(0,n.createElement)("button",{disabled:a,"aria-label":(0,c.__)("Toggle Visibility","neve"),className:"toggle",onClick:l=>{l.preventDefault(),l.stopPropagation(),t(e.id)}},(0,n.createElement)(u.Icon,{icon:e.visible?g.K:g._,size:18}))))),h&&(0,n.createElement)("div",{className:s()("sortable-subcontrols",{open:b})},(0,n.createElement)("div",{className:"sortable-subcontrols-inner"},Object.entries(l[e.id].controls).map((([e,t])=>(0,n.createElement)(T,{key:e,id:e,args:t}))))))},T=({id:e,args:t})=>{var l,o,a,s,i,r;const{label:c,description:m,type:d,attrs:p,initialValue:g}=t,w=c||(null===(l=wp.customize)||void 0===l||null===(o=l.control(e))||void 0===o||null===(a=o.params)||void 0===a?void 0:a.label)||"",f=m||(null===(s=wp.customize)||void 0===s||null===(i=s.control(e))||void 0===i||null===(r=i.params)||void 0===r?void 0:r.description)||"",T=wp.customize.value(e).get(),[k,_]=(0,n.useState)(g||T),[z,y]=(0,n.useState)(!1);(0,n.useEffect)((()=>{y(wp.customize.control(e).active())}),[]);const N=(0,n.useCallback)((e=>{y(e)}),[]);(0,n.useEffect)((()=>(wp.customize.control(e).active.bind(N),()=>{wp.customize.control(e).active.unbind(N)})),[]);const C=e=>{e.preventDefault(),R(e.target.value)},R=t=>{var l;_(t),l=t,wp.customize.value(e).set(l)};return z?(0,n.createElement)("div",{id:`sub-control-${e}`},!["toggle","responsive-range","responsive-button-group","responsive-spacing"].includes(d)&&(0,n.createElement)(n.Fragment,null,w&&(0,n.createElement)("span",{className:"subcontrol-label"},w),f&&(0,n.createElement)("span",{className:"subcontrol-description",dangerouslySetInnerHTML:{__html:f}})),(0,n.createElement)("div",null,"select"===d&&(0,n.createElement)("select",{value:k,onBlur:C,onChange:C},Object.entries(t.choices).map((([e,t])=>(0,n.createElement)("option",{key:e,value:e},t)))),"range"===d&&(0,n.createElement)(u.RangeControl,{resetFallbackValue:0===(null==p?void 0:p.defaultVal)?0:(null==p?void 0:p.defaultVal)||"",value:0===parseFloat(k)?0:parseFloat(k)||"",allowReset:!0,onChange:R,step:(null==p?void 0:p.step)||1,min:(null==p?void 0:p.min)||0,max:(null==p?void 0:p.max)||100}),"text"===d&&(0,n.createElement)("input",{type:"text",value:k,onChange:C}),"toggle"===d&&(0,n.createElement)(u.ToggleControl,{checked:k,label:w,help:f?(0,n.createElement)("span",{dangerouslySetInnerHTML:{__html:f}}):null,onChange:R}),"responsive-range"===d&&(0,n.createElement)(b.Z,{control:wp.customize.control(e)}),"button-group"===d&&(0,n.createElement)(v.RadioIcons,{options:t.choices,value:k,onChange:R,showLabels:!0}),"responsive-button-group"===d&&(0,n.createElement)(E.Z,{control:wp.customize.control(e)}),"responsive-spacing"===d&&(0,n.createElement)(h.Z,{control:wp.customize.control(e)}))):null};f.propTypes={item:r().object.isRequired,onToggle:r().func.isRequired,allowsToggle:r().bool.isRequired,className:r().string,disabled:r().bool};const k=({label:e,onUpdate:t,value:l,components:a,locked:s=[],allowsToggle:i=!0})=>{const r=e=>{const t=l.map((t=>(t.id===e&&(t.visible=!t.visible),t)));c(t)},c=e=>{const l=e.sort(((e,t)=>e.visible===t.visible?0:e.visible?-1:1));t(l)};return l=l.filter((e=>a.hasOwnProperty(e.id))),(0,n.createElement)(n.Fragment,null,e&&(0,n.createElement)("label",{className:"customize-control-title"},e),(0,n.createElement)(o._O,{className:"items-list",list:l,setList:c,animation:300,handle:".handle"},l.filter((e=>a.hasOwnProperty(e.id))).map((e=>(0,n.createElement)(f,{locked:s.includes(e.id),key:e.id,item:e,onToggle:r,allowsToggle:i,components:a})))))};k.propTypes={label:r().string.isRequired,onUpdate:r().func.isRequired,value:r().array.isRequired,allowsToggle:r().bool,components:r().object.isRequired};const _=k}}]);